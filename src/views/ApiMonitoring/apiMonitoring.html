<div class="api height100" flex>
  <aside class="api__leftaside" col="3" flex-column>
    <Card class="api__summary" col="2" title="接口基本信息" :date="date" :detail="true">
      <div class="summary__item" col="1" flex-column rowcenter>
        <div class="summary__item-info" flex center>
          <div class="summary__item-icon">
            <img src="~@assets/images/icon_graph.png" alt=""/>
          </div>
          <div class="summary__item-value" flex>
            <div class="num">{{apiNum}}</div>
            <div class="unit">/个</div>
          </div>
        </div>
        <div class="summary__item-title">接口总数</div>
      </div>
      <div class="summary__item" col="1" flex-column rowcenter>
        <div class="summary__item-info" flex center>
          <div class="summary__item-icon">
            <img src="~@assets/images/icon_wire.png" alt=""/>
          </div>
          <div class="summary__item-value" flex>
            <div class="num">{{normalApiNum}}</div>
            <div class="unit">/个</div>
          </div>
        </div>
        <div class="summary__item-title">正常接口</div>
      </div>
      <div class="summary__item" col="1" flex-column rowcenter>
        <div class="summary__item-info" flex center>
          <div class="summary__item-icon">
            <img src="~@assets/images/icon_notice.png" alt=""/>
          </div>
          <div class="summary__item-value" flex>
            <div class="num error">{{wrongApiNum}}</div>
            <div class="unit">/个</div>
          </div>
        </div>
        <div class="summary__item-title">异常接口</div>
      </div>
    </Card>
    <Card class="api__type-statisc" col="3" title="接口类型分布">
      <div flex center>
        <div class="type-statisc-item" flex-column center>
          <span class="name">SOAP</span>
          <div class="ball" flex center>
            <span class="num">100%</span>
          </div>
        </div>
        <div class="type-statisc-item" :style="{transform: 'scale(0.5)'}" flex-column center>
          <span class="name">RESTFUL</span>
          <div class="ball" flex center>
            <span class="num">0%</span>
          </div>
        </div>
      </div>
    </Card>
    <Card class="api__app-statisc" col="3" title="接口归属分布">
      <PieChart :data="apiAppStatisc" :inner="0.5" :outer="0.9" :cols="1" :showValue="true" :showHeader="true"
                :column="false"/>
    </Card>
  </aside>
  <main class="api__main" col="4" flex-column>
    <section class="system__overview" col="5" flex-column>
      <h3 class="system__overview-heading">
        <span class="heading__title">接口调用情况</span>
      </h3>
      <div class="api__use-statisc" col="1" flex-column>
        <div class="use-statisc-row" col="1" flex colcenter>
          <div class="use-statisc-item" col="1" flex colcenter spacebetween>
            <div class="title">今日总调用</div>
            <div flex colcenter>
              <span class="num">{{todayCallNum}}</span>
              <sub class="unit">/次</sub>
            </div>
          </div>
          <div class="use-statisc-item error" col="1" flex colcenter spacebetween>
            <div class="title">今日失败调用</div>
            <div flex colcenter>
              <span class="num">{{todayfailCallNum}}</span>
              <sub class="unit">/次</sub>
            </div>
          </div>
        </div>
        <div class="use-statisc-row" col="1" flex colcenter>
          <div class="use-statisc-item" col="1" flex colcenter spacebetween>
            <div class="title">累计总调用</div>
            <div flex colcenter>
              <span class="num">{{callNum}}</span>
              <sub class="unit">/次</sub>
            </div>
          </div>
          <div class="use-statisc-item error" col="1" flex colcenter spacebetween>
            <div class="title">累计失败调用</div>
            <div flex colcenter>
              <span class="num">{{failCallNum}}</span>
              <sub class="unit">/次</sub>
            </div>
          </div>
        </div>
      </div>
      <h3 class="system__overview-heading" center>
        <span class="heading__title">近30日接口调用趋势图</span>
      </h3>
      <div class="system__overview-pvuv" col="2">
        <div class="running__outattack-legend">
          <span><span class="running__legend" style="background:linear-gradient(90deg, #05C180, #008E32);"></span><span>成功调用</span></span>
          <span><span class="running__legend" style="background:linear-gradient(90deg, #5FF2F8, #0979B9);"></span><span>失败调用</span></span>
        </div>
        <LineChart :color="color" :x="last30DaysApiUseStatiscX" :data="last30DaysApiUseStatisc"/>
      </div>
    </section>
    <div class="behavior__stuff" col="3" flex>
      <Card class="call-num-api" col="1" title="高频调用接口Top5" subtitle="(近30日)">
        <div flex-column>
          <div class="t__header">
            <span>接口名称</span>
            <span>调用次数/个</span>
          </div>
          <RowProgressBarGroup col="1" flex-column spacearound :real="true" :color="['#05C180', '#008E32']"
                               :data="callNumApiTop5" showValue="false"/>
        </div>
      </Card>
      <Card class="call-num-api" col="1" title="今日活跃接口Top5">
        <div flex-column>
          <div class="t__header">
            <span>接口名称</span>
            <span>调用次数/个</span>
          </div>
          <RowProgressBarGroup col="1" flex-column spacearound :real="true" :color="['#05C180', '#008E32']"
                               :data="todayCallNumApiTop5" showValue="false"/>
        </div>
      </Card>
    </div>
  </main>
  <aside class="api__rightaside" flex-column col="2">
    <Card class="last30DayTimeCostApiTop5" col="5" title="性能耗时接口Top5" subtitle="(近30日)">
      <Top5 :data="todayCallNumApiTop5"
            :showKey="[{name: 'API名称', value: 'name', flex: 2}, {name: '平均耗时/ms', value: 'value', align: 'right', flex:1}]"/>
    </Card>
    <div class="callApiWrongInfos-wrap" col="3" flex>
      <Card class="callApiWrongInfos" col="1" title="事件原因Top5">
        <div class="t__wrap" flex-column>
          <div class="t__head" flex>
            <span col="6">接口名称</span>
            <span col="4">发生时间</span>
          </div>
          <div class="t__body" col="1" flex-column>
            <div class="t__tr" flex v-for="item in callApiWrongInfos">
              <span col="6">{{item.apiName}}</span>
              <span col="4">{{item.callTime}}</span>
            </div>
          </div>
        </div>
      </Card>
    </div>
  </aside>
</div>
